<div class="box controlsBox">
          <div class="boxTitle">Управление каналами</div>
          <div class="boxContent" id="channelControls">

            <div class="chanToolbar">
              <div class="btnRow2">
                <button id="btnAll" type="button" data-hint="Выбрать все каналы в текущем списке.">Выбрать все</button>
                <button id="btnNone" type="button" data-hint="Снять выбор со всех каналов, но оставить выбранным самый первый в списке.">Снять все</button>
              </div>
              <div class="sortRow">
                <label for="sortMode" data-hint="Меняет порядок каналов в списке и в экспорте (CSV/Excel/шаблон).">Сортировка:</label>
                <select id="sortMode" data-hint="Как упорядочить каналы: как в файле, человекоудобно, по названию и т.д.">
                  <option value="file" selected>Как в файле</option>
                  <option value="custom">Мой порядок (сохранённый)</option>
                  <option value="priority">Приоритет + человекоудобно</option>
                  <option value="natural">Человекоудобно по коду</option>
                  <option value="label">По названию</option>
                  <option value="unit">По единицам, затем код</option>
                </select>
              </div>
            </div>

            <div class="filterToolbar simpleFilter">
              <input id="chanSearch" type="text" placeholder="Поиск каналов (код/название/ед.)…" data-hint="Фильтр списка каналов по коду, названию или единицам.&#10;Esc — очистить поиск." />
              <label class="check" data-hint="Компактный режим: меньше отступы и выше плотность списка.">
                <input id="viewCompact" type="checkbox"/> компактно
              </label>
            </div>

            <div class="orderToolbar" data-hint="Сохранение порядка относится к режиму «Мой порядок (сохранённый)».">
              <div class="rowLine">
                <input id="orderName" type="text" placeholder="Имя порядка (для сохранения)…" data-hint="Введи имя и нажми «Сохранить», чтобы записать текущий порядок каналов."/>
                <button id="btnSaveNamed" type="button" data-hint="Сохранить текущий порядок каналов под указанным именем.">Сохранить</button>
              </div>
              <div class="rowLine">
                <select id="orderSelect" title="Сохранённые порядки" data-hint="Выбери сохранённый порядок из списка."></select>
                <button id="btnLoadNamed" type="button" data-hint="Применить выбранный сохранённый порядок.">Загрузить</button>
                <button id="btnRefreshOrders" type="button" data-hint="Обновить список сохранённых порядков (из папки saved_orders).">Обновить</button>
              </div>
            </div>

            <div class="controlsHints" id="controlsHints">
              <div class="controlsHintsTitle">Подсказки</div>
              <div class="controlsHintsBody" id="controlsHintsBody" data-default="Наведи мышь на любой элемент в этом блоке — здесь появится подсказка.">Наведи мышь на любой элемент в этом блоке — здесь появится подсказка.</div>
            </div>

            <div class="excel-tips">
              <div class="excel-tips-title">Подсказка по Excel:</div>
              <p>После выгрузки в шаблон необходимо включить автоматический расчет формул:</p>
              <ol class="excel-tips-list">
                <li class="excel-tips-item">Перейдите на вкладку "Формулы"</li>
                <li class="excel-tips-item">Выберите "Параметры вычисления" → "Автоматически"</li>
              </ol>
            </div>

          </div>
        </div>
